<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/css/main.css">
</head>
<body class="grey-bg">

  <%- include('nav') %>

  <!-- ê²€ìƒ‰ UI -->
  <!-- ê²€ìƒ‰ ë²„íŠ¼ ëˆ„ë¥´ë©´ ì„œë²„ë¡œ GET ìš”ì²­
    inputì— ì…ë ¥í•œ ê°’ë„ ì¿¼ë¦¬ ìŠ¤íŠ¸ë§ìœ¼ë¡œ ë³´ë‚¼ ê²ƒì„ -->
  <input type="text" class="search">
  <button type="button" class="search-btn">ê²€ìƒ‰</button>

  <h4 style="margin-left: 20px;">ê²€ìƒ‰ ê²°ê³¼</h4>
  
  <!-- ë°˜ë³µ ë Œë”ë§ -->
  <!-- lengthê°€ 0ì´ë©´ ë°˜ë³µë¬¸ì´ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì˜µì…”ë„ ì²´ì´ë‹ ì—†ì–´ë„ ë¨ -->
  <div class="white-bg">
    <% for (let i = 0; i < posts.length; i++) { %>
      <div class="list-box">
        <h4>
          <!-- ê¸€ ì œëª© ëˆ„ë¥´ë©´ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ ë§í¬ ê±¸ê¸° -->
          <a href="/post/detail/<%= posts[i]._id %>">
            <%= posts[i].title %>
          </a>

          <!-- ê¸€ ìˆ˜ì • ë²„íŠ¼ -->
          <a href="/post/edit/<%= posts[i]._id %>">ğŸ› </a>

          <!-- ê¸€ ì‚­ì œ ë²„íŠ¼ -->
          <!-- data- : ì‚¬ìš©ì ì •ì˜ ì†ì„±, HTMLì— ë°ì´í„° ì €ì¥ ì‹œ ì£¼ë¡œ ì‚¬ìš© -->
          <span class="delete cursor-pointer" data-id="<%= posts[i]._id %>">ğŸ§¨</span>
        </h4>
        <p><%= posts[i].content %></p>
      </div>
    <% } %>
  </div>

  <!-- í˜ì´ì§€ ì´ë™ ë²„íŠ¼ -->
  <div class="pagination-bg">
    <% for (let i = 1; i <= numOfPage; i++) { %>
      <!-- &keyword=<%= keyword %> ìˆì–´ì•¼ í˜ì´ì§€ë„¤ì´ì…˜ ëŒì•„ê° -->
      <a href="/post/search?page=<%= i %>&keyword=<%= keyword %>" class="<%= i == currentPage ? 'active' : '' %>">
        <%= i %>
      </a>
    <% } %>
  </div>

  <!-- ë‹¤ìŒ ë²„íŠ¼ -->
  <div class="next-bg">
    <a href="/post/search?nextId=<%= posts[posts.length - 1]?._id %>">ë‹¤ìŒ</a>
  </div>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="/js/list.js"></script>
</body>
</html>

